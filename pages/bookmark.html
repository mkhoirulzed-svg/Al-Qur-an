<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bookmark</title>

  <link rel="stylesheet" href="../style.css">
</head>

<body>

<!-- HEADER -->
<header class="app-header">
  <button class="back-btn" onclick="history.back()">
    <svg viewBox="0 0 24 24" width="22" height="22"
      fill="none" stroke="currentColor" stroke-width="2.5"
      stroke-linecap="round" stroke-linejoin="round">
      <polyline points="15 18 9 12 15 6"></polyline>
    </svg>
  </button>
  <h1 class="header-title">Bookmark</h1>
</header>

<!-- CONTENT -->
<main class="container">
  <div id="bookmarkList">
    <p class="loading">Memuat bookmark...</p>
  </div>
</main>

<!-- NAV -->
<nav class="bottom-nav">
  <a href="../index.html">Home</a>
  <a href="quran.html">Al-Qur'an</a>
  <a href="bookmark.html" class="active">Bookmark</a>
  <a href="about.html">Tentang</a>
</nav>

<!-- SCRIPT -->
<script>
const list = document.getElementById('bookmarkList');

function renderBookmarks() {
  const bookmarks = JSON.parse(localStorage.getItem('bookmarks')) || [];

  if (bookmarks.length === 0) {
    list.innerHTML = '<p class="loading">Belum ada bookmark</p>';
    return;
  }

  list.innerHTML = '';

  bookmarks.forEach((b, index) => {
    const item = document.createElement('div');
    item.className = 'ayat-item';

    item.innerHTML = `
      <div class="bookmark-header">
        <div>
          <strong>${b.surahName}</strong>
          <small>Ayat ${b.ayat}</small>
        </div>

        <button class="hapus-bookmark" title="Hapus">âœ•</button>
      </div>

      <div class="ayat-arab">${b.text}</div>

      <button class="bookmark-open">Buka Ayat</button>
    `;

    // buka ayat
    item.querySelector('.bookmark-open').onclick = () => {
      localStorage.setItem('scrollToAyat', b.ayat);
      location.href = `surah.html?no=${b.surah}`;
    };

    // hapus bookmark
    item.querySelector('.hapus-bookmark').onclick = () => {
      bookmarks.splice(index, 1);
      localStorage.setItem('bookmarks', JSON.stringify(bookmarks));
      renderBookmarks();
    };

    list.appendChild(item);
  });
}

renderBookmarks();
</script>

</body>
</html>