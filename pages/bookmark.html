<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bookmark</title>

<link rel="stylesheet" href="../style.css">
</head>

<body>

<header class="app-header">
  <button class="back-btn" onclick="history.back()">
    <svg viewBox="0 0 24 24" width="22" height="22"
      fill="none" stroke="currentColor" stroke-width="2.5"
      stroke-linecap="round" stroke-linejoin="round">
      <polyline points="15 18 9 12 15 6"></polyline>
    </svg>
  </button>
  <h1 class="header-title">Bookmark</h1>
</header>

<main class="container">
  <div id="bookmarkList"></div>
</main>
  <p>Memuat bookmark...</p>
</main>

<nav class="bottom-nav">
  <a href="../index.html">Home</a>
  <a href="quran.html">Al-Qur'an</a>
  <a href="bookmark.html" class="active">Bookmark</a>
  <a href="about.html">Tentang</a>
</nav>

<script>
const list = document.getElementById('bookmarkList');

function renderBookmarks() {
  const bookmarks = JSON.parse(localStorage.getItem('bookmarks')) || [];

  if (bookmarks.length === 0) {
    list.innerHTML = '<p>Belum ada bookmark</p>';
    return;
  }

  list.innerHTML = '';

  bookmarks.forEach((b, index) => {
    const item = document.createElement('div');
    item.className = 'ayat-item';

    item.innerHTML = `
      <div class="ayat-header">
        <strong>${b.surahName} : ${b.ayat}</strong>
        <button class="hapus-bookmark">âœ–</button>
      </div>

      <div class="ayat-arab">${b.text}</div>
      <small class="bookmark-link">Buka kembali</small>
    `;

    // ðŸ”— buka surah ke ayat
    item.querySelector('.bookmark-link').onclick = () => {
      localStorage.setItem('scrollToAyat', b.ayat);
      location.href = `surah.html?no=${b.surah}`;
    };

    // âŒ hapus bookmark (TANPA reload)
    item.querySelector('.hapus-bookmark').onclick = () => {
      bookmarks.splice(index, 1);
      localStorage.setItem('bookmarks', JSON.stringify(bookmarks));
      renderBookmarks(); // render ulang
    };

    list.appendChild(item);
  });
}

renderBookmarks();
</script>
</body>
</html>