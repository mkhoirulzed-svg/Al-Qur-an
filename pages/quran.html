<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Al-Qur'an</title>

<link rel="stylesheet" href="../style.css">
</head>

<body>

<header class="app-header">
  <button class="back-btn" onclick="history.back()">
    <svg viewBox="0 0 24 24" width="22" height="22"
      fill="none"
      stroke="currentColor"
      stroke-width="2.5"
      stroke-linecap="round"
      stroke-linejoin="round">
      <polyline points="15 18 9 12 15 6"></polyline>
    </svg>
  </button>
  <h1 class="header-title">Al-Qur'an</h1>
</header>

<main class="container">

<div class="quran-toggle">
  <button id="btnSurah" class="toggle-btn active">Surah</button>
  <button id="btnJuz" class="toggle-btn">Juz</button>
  <button id="btnBookmark" class="toggle-btn">Bookmark</button>
</div>

  <div id="surahList" class="surah-list"></div>

</main>

<nav class="bottom-nav">
  <a href="../index.html">Home</a>
  <a href="quran.html">Al-Qur'an</a>
  <a href="bookmark.html">Bookmark</a>
  <a href="about.html">Tentang</a>
</nav>

  <script src="../data/juz-map.js"></script>
  
<script>
const list = document.getElementById('surahList');
const btnSurah = document.getElementById('btnSurah');
const btnJuz = document.getElementById('btnJuz');

loadSurah(); // default

btnSurah.onclick = () => {
  setActive(btnSurah, btnJuz);
  loadSurah();
};

btnJuz.onclick = () => {
  setActive(btnJuz, btnSurah);
  loadJuz();
};

const btnBookmark = document.getElementById('btnBookmark');

btnBookmark.onclick = () => {
  window.location.href = 'bookmark.html';
};

function setActive(btn) {
  document
    .querySelectorAll('.toggle-btn')
    .forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
}

function loadSurah() {
  list.innerHTML = 'Memuat surah...';

  fetch('https://equran.id/api/v2/surat')
    .then(res => res.json())
    .then(data => {
      list.innerHTML = '';
      data.data.forEach(s => {
        const item = document.createElement('a');
        item.href = `surah.html?no=${s.nomor}`;
        item.className = 'surah-item';
        item.innerHTML = `
          <div>
            <strong>${s.nomor}. ${s.namaLatin}</strong>
            <small>${s.arti}</small>
          </div>
          <span>${s.jumlahAyat} ayat</span>
        `;
        list.appendChild(item);
      });
    })
    .catch(() => list.innerHTML = '<p>Gagal memuat Surah</p>');
}

function loadJuz() {
  list.innerHTML = '';

  JUZ_MAP.forEach(j => {
    const item = document.createElement('a');
    item.href = `juz.html?no=${j.juz}`;
    item.className = 'surah-item';

    const surahName = getSurahName(j.start[0]);
    const ayatNo = j.start[1];

    item.innerHTML = `
      <div>
        <strong>Juz ${j.juz}</strong>
        <small>${surahName} ayat ${ayatNo}</small>
      </div>
    `;

    list.appendChild(item);
  });
}

  function getSurahName(no) {
  const names = {
    const SURAH_NAMES = {
  1: "Al-Fatihah",
  2: "Al-Baqarah",
  3: "Ali 'Imran",
  4: "An-Nisa'",
  5: "Al-Ma'idah",
  6: "Al-An'am",
  7: "Al-A'raf",
  8: "Al-Anfal",
  9: "At-Taubah",
  10: "Yunus",
  11: "Hud",
  12: "Yusuf",
  13: "Ar-Ra'd",
  14: "Ibrahim",
  15: "Al-Hijr",
  16: "An-Nahl",
  17: "Al-Isra'",
  18: "Al-Kahf",
  19: "Maryam",
  20: "Ta-Ha",
  21: "Al-Anbiya'",
  22: "Al-Hajj",
  23: "Al-Mu'minun",
  24: "An-Nur",
  25: "Al-Furqan",
  26: "Asy-Syu'ara'",
  27: "An-Naml",
  28: "Al-Qasas",
  29: "Al-'Ankabut",
  30: "Ar-Rum",
  31: "Luqman",
  32: "As-Sajdah",
  33: "Al-Ahzab",
  34: "Saba'",
  35: "Fatir",
  36: "Ya-Sin",
  37: "As-Saffat",
  38: "Sad",
  39: "Az-Zumar",
  40: "Ghafir",
  41: "Fussilat",
  42: "Asy-Syura",
  43: "Az-Zukhruf",
  44: "Ad-Dukhan",
  45: "Al-Jasiyah",
  46: "Al-Ahqaf",
  47: "Muhammad",
  48: "Al-Fath",
  49: "Al-Hujurat",
  50: "Qaf",
  51: "Az-Zariyat",
  52: "At-Tur",
  53: "An-Najm",
  54: "Al-Qamar",
  55: "Ar-Rahman",
  56: "Al-Waqi'ah",
  57: "Al-Hadid",
  58: "Al-Mujadilah",
  59: "Al-Hasyr",
  60: "Al-Mumtahanah",
  61: "As-Saff",
  62: "Al-Jumu'ah",
  63: "Al-Munafiqun",
  64: "At-Taghabun",
  65: "At-Talaq",
  66: "At-Tahrim",
  67: "Al-Mulk",
  68: "Al-Qalam",
  69: "Al-Haqqah",
  70: "Al-Ma'arij",
  71: "Nuh",
  72: "Al-Jinn",
  73: "Al-Muzzammil",
  74: "Al-Muddaththir",
  75: "Al-Qiyamah",
  76: "Al-Insan",
  77: "Al-Mursalat",
  78: "An-Naba'",
  79: "An-Nazi'at",
  80: "'Abasa",
  81: "At-Takwir",
  82: "Al-Infitar",
  83: "Al-Mutaffifin",
  84: "Al-Insyiqaq",
  85: "Al-Buruj",
  86: "At-Tariq",
  87: "Al-A'la",
  88: "Al-Ghasyiyah",
  89: "Al-Fajr",
  90: "Al-Balad",
  91: "Asy-Syams",
  92: "Al-Lail",
  93: "Ad-Duha",
  94: "Asy-Syarh",
  95: "At-Tin",
  96: "Al-'Alaq",
  97: "Al-Qadr",
  98: "Al-Bayyinah",
  99: "Az-Zalzalah",
  100: "Al-'Adiyat",
  101: "Al-Qari'ah",
  102: "At-Takasur",
  103: "Al-'Asr",
  104: "Al-Humazah",
  105: "Al-Fil",
  106: "Quraisy",
  107: "Al-Ma'un",
  108: "Al-Kausar",
  109: "Al-Kafirun",
  110: "An-Nasr",
  111: "Al-Lahab",
  112: "Al-Ikhlas",
  113: "Al-Falaq",
  114: "An-Nas"
};
      };
    // (boleh lanjut nanti, ini tidak wajib semua)

  return names[no] || `Mulai dari Surah ${no}`;
}

</script>


</body>
</html>
